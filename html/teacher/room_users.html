<!DOCTYPE html>
<html lang="en">
  <head id="head">
  </head>
<body>
<div id="menu"></div>
<div id="roomMenu"></div>
            <div class="container-fluid">
                <div class="row">
                  <!-- Left Side: Title and Main Content Box -->
                  <label for="sortDropdown" class="col-md-1">Sort by Role:</label>
                  <select id="sortDropdown" class="form-select-sm col-md-2">
                    <!-- Options will be dynamically added here -->
                  </select>
                </div>
                <div class="row">
                  <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">Navn</th>
                        <th scope="col">Rolle</th>
                      </tr>
                    </thead>
                    <tbody id="myTableBody">
                      <!-- Table content will be dynamically added here -->
                    </tbody>
                  </table>
                  </div>
                </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>

    <script>
    
      document.addEventListener("DOMContentLoaded", function()  {
        $(function() {
              $("#menu").load("http://localhost:5500/html/includes/menu.html");
           });
           $(function() {
              $("#head").load("http://localhost:5500/html/includes/head.html");
           });
           $(function() {
              $("#roomMenu").load("http://localhost:5500/html/includes/RoomMenu.html");
           });
      });
      document.addEventListener("DOMContentLoaded", function() {
    // Sample data for the table
    var data = [
      { navn: "John Doe", rolle: "Studerende" },
      { navn: "Jane Smith", rolle: "Underviser" },
      { navn: "Bob Johnson", rolle: "Administrator" },
      // Add more data as needed
    ];

    // Get the table body, the sort dropdown, and the unique roles
    var tbody = document.getElementById("myTableBody");
    var sortDropdown = document.getElementById("sortDropdown");
    var uniqueRoles = [...new Set(data.map(item => item.rolle))];

    // Populate the dropdown with "All Roles" and unique roles
    var allRolesOption = document.createElement("option");
    allRolesOption.value = "";
    allRolesOption.textContent = "Alle brugere";
    sortDropdown.appendChild(allRolesOption);

    uniqueRoles.forEach(role => {
      var option = document.createElement("option");
      option.value = role;
      option.textContent = `${role}`;
      sortDropdown.appendChild(option);
    });

    // Function to populate the table based on the selected role
    function populateTable(selectedRole) {
      // Clear existing rows
      tbody.innerHTML = "";

      // Filter the data based on the selected role
      var filteredData = selectedRole
        ? data.filter(item => item.rolle === selectedRole)
        : data;

      // Insert filtered data into the table
      filteredData.forEach(function(item) {
        var row = tbody.insertRow();
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);

        cell1.textContent = item.navn;
        cell2.textContent = item.rolle;
      });
    }

    // Initial population of the table
    populateTable("");

    // Add event listener to the dropdown for dynamic sorting
    sortDropdown.addEventListener("change", function() {
      var selectedRole = this.value;
      populateTable(selectedRole);
    });
  });
</script>
</body>
</html>